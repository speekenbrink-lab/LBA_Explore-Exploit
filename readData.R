readData <- function(trialNum, secOneTrialNum, secTwoTrialNum, cond, participant) {
  filename <- paste(c("Final Data (Stage 1)/C",cond,"_S",participant,"_ET1_processed_final.mat"), collapse = '')
  TD <- readMat(filename)
  
  
  choices <- 0
  #Work out their actual responses because I'm a ning-nong
  for (i in 1:secOneTrialNum){
    if ((TD$finalData[i, 3] == 1 | TD$finalData[i, 4] == 1) & TD$finalData[i, 7] == 1){
      choices[i] <- 1
    } else if ((TD$finalData[i, 3] == 2 | TD$finalData[i, 4] == 2) & TD$finalData[i, 7] == 1){
      choices[i] <- 2
    } else if ((TD$finalData[i, 3] == 1 | TD$finalData[i, 4] == 1) & TD$finalData[i, 7] == 0){
      choices[i] <- 2
    } else if ((TD$finalData[i, 3] == 2 | TD$finalData[i, 4] == 2) & TD$finalData[i, 7] == 0){
      choices[i] <- 1
    }
  }
  
  holdData <- data.frame(trial = TD$finalData[, 1], cueOne = TD$finalData[,3], cueTwo = TD$finalData[,4], 
                         choice = choices, reward = TD$finalData[,9], RT = TD$finalData[,13])
  filename <- paste(c("Final Data (Stage 2)/C",cond,"_S",participant,"_ET1_processed_final.mat"), collapse = '')
  TD <- readMat(filename)
  
  choices <- 0
  #Work out their actual responses because I'm a ning-nong
  for (i in 1:secTwoTrialNum){
    if ((TD$finalData[i, 3] == 1 | TD$finalData[i, 4] == 1) & TD$finalData[i, 7] == 1){
      choices[i] <- 1
    } else if ((TD$finalData[i, 3] == 2 | TD$finalData[i, 4] == 2) & TD$finalData[i, 7] == 1){
      choices[i] <- 2
    } else if ((TD$finalData[i, 3] == 1 | TD$finalData[i, 4] == 1) & TD$finalData[i, 7] == 0){
      choices[i] <- 2
    } else if ((TD$finalData[i, 3] == 2 | TD$finalData[i, 4] == 2) & TD$finalData[i, 7] == 0){
      choices[i] <- 1
    }
  }
  
  holdData2 <- data.frame(trial = TD$finalData[, 1], cueOne = TD$finalData[,3], cueTwo = TD$finalData[,4], 
                          choice = choices, reward = TD$finalData[,9], RT = TD$finalData[,13])
  holdData2$trial <- holdData2$trial + 256
  rawData <- merge(holdData, holdData2, all = TRUE)
  
  return(rawData)
}