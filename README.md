# LBA_Explore-Exploit

To run simulations for four armed bandit:
Open BanditSim.R 
(This will run simulations for a four-armed restless bandit, with reflective barriers at 10 and 40, starting point mean value of 25,
intertrial reward sd drift (innovation) of 2, and trial reward sd of 3)
Set the number of simulations up top desired.
Use 1s or 0s to indicate which simulations to run.
(Simple sim is standard LBA with no uncertainty added, Dual Sim is the two accumulator model with an accumulator for Exploitation and one
for exploration, sdSim is uncertainty impacting the SD of the drift-rate, spSim is the same but for start point). 
Set the params you want up top (there's a guide to what's what in the code)
Set uncertainty style (Commented in the code)
Set learning style (Also commented in the code)
Run all and view graphs. 


To run fits for the CMAB task (Unexpected Uncertainty and Expected Uncertainty): 
Extract the CMABData folder into the working directory and create a folder called "Sim_Data" in the working directory (this is where your output will be saved)
Open "OmnibusCMABfit" and run all of that.
If you want to look into the guts, open CMAB Param Search, and you can see each section:
    You can change the number of simulations and amount of evaluations on each search here at the top. 
    runCMAB is the simulation (does both expected learnt values based on participant observations "test" and raw simulation "Sim")
    CMABFit is the fitting program. 
    If you change an algorithm in CMABfit, be sure to update runCMAB to match it. 
    
    
Details of all files:
addUnc: Adds uncertainty to the four armed bandit sim
addUncLBA: Adds uncertainty to the CMAB task
BanditFit: attempt to fit Speekenbrink & Konstantinidis (2015) data
BandParamSearch: See above
BanditPractice: Early practice at the simulations
BanditSim: Simulations used to get profiles of different models
CMABFit: Fitting program for CMAB style tasks 
CMABrt_dists: Old file using the RT dists package (CMABFit uses this)
CMABParamSearch: Script to run fits, param recovery, and resimulation
CMABSim: Old Simulation for the CMAB task
CMABSim_old: Even older simulation
KalmanFilter: Script to run the Kalman filter
LBAcdf: My attempt at finding the cdfs for LBA before switching to rtdists
LBAFit: Old attempt at fitting the LBA
LBApdf: See LBA cdf
LBAPractice: Initial learning of LBA
LBASim: Key program that simulates an LBA trial given parameter inputs
OmnibusCMABSearch: Parent script to run the Parameter search for LBA across different conditions and LBA types
readData: Reads in the CMAB data and codes optimal versus non-optimal responses
runBandit_All: Collapses all the bandit types into one script (see below), it is the latest version of the four below nad the one that shoudl be modified
runBandit_SDUnc: Script for SD Unc four armed bandit LBA
runBandit_SPUnc: Script for SD Unc four armed bandit LBA
runBandit_TwoLBA: Script for Dual four armed bandit LBA
runBanditSimple: Basic LBA
runCMAB: Most recent simulation for CMAB task
runPart: Simulation for four armed bandit task
RW: Rescorla Wagner learning rule


